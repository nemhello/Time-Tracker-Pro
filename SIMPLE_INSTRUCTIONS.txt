# ADD THESE TO YOUR EXISTING app.js

## AT THE TOP (Line 1):
```javascript
const CONFIG = { apiUrl: 'https://api.wilkerson-labs.com' };
let authToken = localStorage.getItem('authToken');
let authExpiry = localStorage.getItem('authExpiry');
let locationPhotos = {}, currentLocationPhotos = [], photoViewMode = false;
```

## CHANGE LINE 8 FROM:
```javascript
document.addEventListener('DOMContentLoaded', () => {
```
## TO:
```javascript
document.addEventListener('DOMContentLoaded', async () => {
    const isAuth = await checkAuthentication();
    if (!isAuth) await showLoginPrompt();
```

## CHANGE LINE 36 FROM:
```javascript
    loadEntries();
```
## TO:
```javascript
    loadEntries();
    loadPhotos();
```

## ADD AFTER saveEntries() function (around line 50):
```javascript
function loadPhotos() {
    const stored = localStorage.getItem('locationPhotos');
    locationPhotos = stored ? JSON.parse(stored) : {};
}
function savePhotos() {
    localStorage.setItem('locationPhotos', JSON.stringify(locationPhotos));
}
```

## AT THE VERY END, ADD:
```javascript
async function checkAuthentication() {
    if (!authToken) return false;
    if (authExpiry && new Date(authExpiry) < new Date()) return false;
    try {
        const res = await fetch(`${CONFIG.apiUrl}/auth/validate`, {
            method: 'POST', headers: {'Authorization': `Bearer ${authToken}`}
        });
        return res.ok;
    } catch { return false; }
}

async function showLoginPrompt() {
    const pass = prompt('ðŸ”’ Password (Cancel=timer-only):');
    if (!pass) return false;
    try {
        const res = await fetch(`${CONFIG.apiUrl}/auth/login`, {
            method: 'POST',
            headers: {'Content-Type':'application/json'},
            body: JSON.stringify({password:pass})
        });
        if (!res.ok) return false;
        const data = await res.json();
        authToken = data.token;
        const exp = new Date(); exp.setDate(exp.getDate() + 30);
        authExpiry = exp.toISOString();
        localStorage.setItem('authToken', authToken);
        localStorage.setItem('authExpiry', authExpiry);
        return true;
    } catch { return false; }
}
```

DONE! That's it. Deploy and test.
